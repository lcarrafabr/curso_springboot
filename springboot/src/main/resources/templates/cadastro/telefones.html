<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<!--Import Google Icon Font-->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<!--Import materialize.css-->
<link type="text/css" rel="stylesheet" href="/materialize\css\materialize.css"  media="screen,projection"/>
<link type="text/css" rel="stylesheet" href="/materialize\css\materialize.min.css"  media="screen,projection"/>
<title>Cadastro Telefones</title>

<style type="text/css">

form input[type=submit]{
	color: white;
}
</style>

</head>
<body>
	<nav>
	<div class="nav-wrapper">
		<a href="#" class="brand-logo">Cadastro de telefones</a>
		<ul id="nav-mobile" class="right hide-on-med-and-down">
			<li><a href="/">Home</a></li>
			<li><a href="/cadastropessoa">Cadastro pessoa</a></li>
			<li><a href="collapsible.html">JavaScript</a></li>
		</ul>
	</div>
	</nav>
	<div class="container">
	
	<div th:each="p: ${pessoaobj}">
		<div class="row">
			<p>Id: <span th:text="${p.id}"></span> </p>
			<p>Nome: <span th:text="${p.nome}"></span> </p>
			<p>Sobrenome: <span th:text="${p.sobrenome}"></span> </p>
			<p>Idade: <span th:text="${p.idade}"></span> </p>
		</div>
	
	</div>
	
	<div class="row">
	<div th:each="m : ${msg}">
			<span th:text="${m}"/>
		</div>
		<form th:action="@{/addfonepessoa/{pessoaid}(pessoaid=${pessoaobj.id})}" method="post" class="col s12" onsubmit="return validarCampos()? true : false;">
		
			<div class="row">
				<div class="input-field col s1">
					<label class="active" for="ddd">DDD</label>
					<input id="ddd" name="ddd" class="validade"/>
				</div>
				
				<div class="input-field col s3">
					<label class="active" for="numero">Numero</label>
					<input id="numero" name="numero" class="validade"/>
				</div>
				
				<div class="input-field col s3">
					<label class="active" for="tipo">tipo</label>
					<input id="tipo" name="tipo" class="validade"/>
				</div>
				
				<input class="waves-effect waves-light btn" type="submit" value="Adicionar"/>
			</div>
		</form>
		
		<table class="striped">
			<thead>
          <tr>
             <!-- <th>Id</th> -->
              <th>DDD</th>
              <th>numero</th>
              <th>tipo</th>
              <th>Editar</th>
              <th>Remover</th>
          </tr>
        </thead>
			<tr th:each="fone: ${telefones}">
				<td th:text="${fone.ddd}"></td>
				<td th:text="${fone.numero}"></td>
				<td th:text="${fone.tipo}"></td>
				<td><a th:href="@{/editartelefone/{idtelefone}(idtelefone=${fone.id})}"><i class="material-icons center">edit</i></a></td>
    			<td><a th:href="@{/removertelefone/{idtelefone}(idtelefone=${fone.id})}"><i class="material-icons center">delete_forever</i></a></td>
			</tr>		
		</table>
		
	</div>



		<!--JavaScript at end of body for optimized loading-->
		<script type="text/javascript" src="/materialize\js\materialize.js"></script>
		<script type="text/javascript" src="/materialize\js\materialize.min.js"></script>
		
		<script type="text/javascript">
			function validarCampos(){
				
				ddd = document.getElementById('ddd').value;
				numero = document.getElementById('numero').value;
				tipo = document.getElementById('tipo').value;
				
				if(ddd === ''){
					alert('O DDD é obrigatório!');
					return false;
				}else if(numero === ''){
					alert('O numero é obrigatório!');
					return false;
				}else if(tipo === ''){
					alert('O Tipo é obrigatório!');
					return false;
				}
				
				
				
				
				
				return true;
			}
		</script>
	</div>
</body>
</html>